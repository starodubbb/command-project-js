{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-e78dd51f11fc0e7b.js","src/js/index.js","src/js/pop-up.js","node_modules/@parcel/runtime-js/lib/runtime-cd461fe48172ca2b.js","node_modules/@parcel/runtime-js/lib/runtime-761f4efb899443c3.js","node_modules/@parcel/runtime-js/lib/runtime-af97b9594be9dd14.js","src/js/sidebar.js","src/js/best-sellers.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9p9yL\\\":\\\"index.668dcda9.js\\\",\\\"aogqn\\\":\\\"pop-up-shop-1.06fa7713.png\\\",\\\"4I5XU\\\":\\\"pop-up-shop-2.57ecc8dc.png\\\",\\\"243JW\\\":\\\"pop-up-shop-3.e5effbae.png\\\",\\\"8HuFU\\\":\\\"index.e38e3210.js\\\"}\"));","import './header.js';\nimport './pop-up.js';\nimport './scroll-up.js';\nimport './sidebar.js';\nimport './support.js';\nimport './best-sellers.js';\nimport './mobile-menu.js';\nimport './service-api.js';\nimport { setActivePage } from './various-functions.js';\n\nconst PAGE = 'home';\n\nsetActivePage(PAGE);\n","import { fetchBookById } from './service-api';\n\nimport shop1 from '../img/pop-up/pop-up-shop-1.png';\nimport shop2 from '../img/pop-up/pop-up-shop-2.png';\nimport shop3 from '../img/pop-up/pop-up-shop-3.png';\n\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst modal = document.querySelector('.modal-window');\nconst backdrop = document.querySelector('.backdrop');\nlet modalContent = document.querySelector('.modal-content');\nlet currentBookData;\n\nconst bestSellerBooks = document.querySelector('.books-container');\n\nbestSellerBooks.addEventListener('click', onBookClick);\n\nmodal.addEventListener('click', evt => {\n  evt.stopPropagation();\n});\n\nlet shoppingListData = [];\nloadData();\n\nfunction disableBodyScroll() {\n  document.body.style.overflow = 'hidden';\n}\n\nfunction enableBodyScroll() {\n  document.body.style.overflow = 'visible';\n}\n\nfunction onBookClick(event) {\n  const bookElement = event.target.closest('.book-item');\n  if (!bookElement) return;\n\n  const bookId = bookElement.getAttribute('data-id');\n  if (bookId) {\n    console.log('Клік на книзі з ID:', bookId);\n    loadBookDetails(bookId);\n  }\n}\n\nasync function loadBookDetails(bookId) {\n  try {\n    const bookData = await fetchBookById(bookId);\n    currentBookData = bookData;\n\n    const shoppingList =\n      JSON.parse(localStorage.getItem('shopping-list')) || [];\n\n    const isBookInShoppingList = shoppingList.some(\n      item => item._id === bookData._id\n    );\n\n    const modalHTML = markupModal(bookData);\n\n    modalContent.innerHTML = modalHTML;\n    modal.classList.remove('is-hidden');\n    openModal();\n\n    closeBtn.addEventListener('click', closeModal);\n    backdrop.addEventListener('click', closeModal);\n    document.addEventListener('keydown', onEscapeKey);\n\n    const btnAddEl = document.querySelector('.modal-btn-add');\n    btnAddEl.addEventListener('click', onClickBtnAdd);\n\n    const modalNote = document.querySelector('.modal-note');\n\n    if (isBookInShoppingList) {\n      btnAddEl.textContent = 'REMOVE FROM THE SHOPPING LIST';\n      modalNote.textContent =\n        'Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n    } else {\n      btnAddEl.textContent = 'ADD TO SHOPPING LIST';\n      modalNote.textContent = ''; // Пустий текст, якщо книга не додана до списку покупок\n    }\n  } catch (error) {\n    console.error('Помилка завантаження даних книги:', error);\n\n    currentBookData = {};\n  }\n}\n\nfunction loadData() {\n  const data = localStorage.getItem('shopping-list');\n\n  if (data) {\n    shoppingListData = JSON.parse(data);\n  }\n}\n\nfunction saveData(data) {\n  localStorage.setItem('shopping-list', JSON.stringify(data));\n}\n\nfunction onClickBtnAdd() {\n  if (currentBookData) {\n    const bookDataToStore = currentBookData;\n    const arrFromLocalStorage =\n      JSON.parse(localStorage.getItem('shopping-list')) || [];\n\n    const isBookInLocalStorage = arrFromLocalStorage.some(\n      item => item._id === bookDataToStore._id\n    );\n\n    if (!isBookInLocalStorage) {\n      arrFromLocalStorage.push(bookDataToStore);\n      localStorage.setItem(\n        'shopping-list',\n        JSON.stringify(arrFromLocalStorage)\n      );\n\n      document.querySelector('.modal-btn-add').textContent =\n        'REMOVE FROM THE SHOPPING LIST';\n\n      const modalNote = document.querySelector('.modal-note');\n      modalNote.textContent =\n        'Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n    } else {\n      const filteredArr = arrFromLocalStorage.filter(\n        item => item._id !== bookDataToStore._id\n      );\n      localStorage.setItem('shopping-list', JSON.stringify(filteredArr));\n\n      document.querySelector('.modal-btn-add').textContent =\n        'ADD TO SHOPPING LIST';\n\n      const modalNote = document.querySelector('.modal-note');\n      modalNote.textContent = ''; // Пустий текст, якщо книга видалена зі списку покупок\n    }\n  } else {\n    console.error('Дані про книгу відсутні.');\n  }\n}\n\nlet isBookAddedToShoppingList = false;\n\nfunction openModal() {\n  console.log('Модальне вікно відкрито');\n  backdrop.classList.remove('is-hidden');\n  modal.classList.remove('is-hidden');\n  disableBodyScroll();\n\n  if (isBookAddedToShoppingList) {\n    document.querySelector('.modal-btn-add').textContent =\n      'REMOVE FROM THE SHOPPING LIST';\n  } else {\n    document.querySelector('.modal-btn-add').textContent =\n      'ADD TO SHOPPING LIST';\n  }\n}\n\ncloseBtn.addEventListener('click', onBtnCloseClick);\nbackdrop.addEventListener('click', onBackdropClick);\ndocument.addEventListener('keydown', onEscapeKey);\n\nfunction onBtnCloseClick() {\n  closeModal();\n  enableBodyScroll();\n}\n\nfunction onBackdropClick(evt) {\n  if (evt.target === backdrop && evt.target !== modal) {\n    closeModal();\n  }\n}\n\nfunction onEscapeKey(evt) {\n  if (evt.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n  backdrop.classList.add('is-hidden');\n  enableBodyScroll();\n  document.removeEventListener('keydown', onEscapeKey);\n  backdrop.removeEventListener('click', onBackdropClick);\n}\n\nfunction markupModal(bookData) {\n  const { book_image, list_name, author, description, buy_links } = bookData;\n  return `<div class=\"modal-content\">\n      <img class=\"modal-book-img\"\n              src=\"${book_image}\"\n              alt=\"Book cover\"\n            />\n            <div class=\"modal-book-descr\">\n              <h2 class=\"modal-book-title\">${list_name}</h2>\n              <h3 class=\"modal-book-author\">${author}</h3>\n\n          <p class=\"modal-book-review\">${description}</p>\n        <ul class=\"modal-book-list list\">\n          <li class=\"modal-book-el\">\n            <a\n              href=\"${buy_links[0].url}\"\n              class=\"modal-book-link\"\n              target=\"_blank\"\n              rel=\"noopener no-referrer\"\n              >\n              <img\n              src=\"${shop1}\"\n              alt=\"Buy on Amazon\"\n              width=\"62\"\n              height=\"19\"\n              class=\"modal-book-seller\"\n            /></a>\n          </li>\n          <li class=\"modal-book-el\">\n            <a\n              href=\"${buy_links[1].url}\"\n              class=\"modal-book-link\"\n              target=\"_blank\"\n              rel=\"noopener no-referrer\"\n              ><img\n              src=\"${shop2}\"\n              alt=\"Buy on Apple\"\n              width=\"33\"\n              height=\"32\"\n              class=\"modal-book-seller\"\n            /></a>\n          </li>\n          <li class=\"modal-book-el\">\n            <a\n              href=\"${buy_links[4].url}\"\n              class=\"modal-book-link\"\n              target=\"_blank\"\n              rel=\"noopener no-referrer\"\n            >\n              <img\n\n              src=\"${shop3}\"\n              alt=\"Book shop\"\n              width=\"38\"\n              height=\"36\"\n              class=\"modal-book-seller\"\n            /></a>\n          </li>\n        </ul>\n      </div>`;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"aogqn\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"4I5XU\");","module.exports = require('./helpers/bundle-url').getBundleURL('9p9yL') + require('./helpers/bundle-manifest').resolve(\"243JW\");","import { fetchCategoryList, fetchParticularCategory } from './service-api';\n\nconst sideBarEl = document.querySelector('.side-bar');\nconst sideBarListEl = document.querySelector('.side-bar-list');\nconst booksContainerEl = document.querySelector('.books-container');\nconst cardSetEl = document.querySelector('.card-set');\nconst bestSellersTitleEl = document.querySelector('.best-sellers > h2');\n\nstartRender();\n\nasync function startRender() {\n  const data = await fetchCategoryList();\n\n  const markupTitle = `<li><button class=\"side-bar-btn current-category\" type=\"button\">All categories</button></li>`;\n  sideBarListEl.insertAdjacentHTML('afterbegin', markupTitle);\n\n  renderMarkupList(data);\n}\n\nfunction renderMarkupList(arrays) {\n  const markup = arrays\n    .map(({ list_name }) => {\n      return `<li><button type=\"button\" class=\"side-bar-btn\">${list_name}</button></li>`;\n    })\n    .join('');\n  return sideBarListEl.insertAdjacentHTML('beforeend', markup);\n}\n\nsideBarListEl.addEventListener('click', onRenderMarkup);\n\nfunction onRenderMarkup(e) {\n  const currentCategory = e.target.textContent;\n  const categoriesListEl = document.querySelector('.categories-list');\n\n  bestSellersTitleEl.innerHTML = '';\n  categoriesListEl.innerHTML = '';\n\n  renderMarkupBook(currentCategory);\n}\n\nasync function renderMarkupBook(category) {\n  const data = await fetchParticularCategory(category);\n\n  const markupBook = data\n    .map(({ book_image, title, author, _id }) => {\n      return `<li class=\"card-set-item\" data-id=\"${_id}\">\n\t <button class=\"side-bar-btn\" type=\"button\"><div class=\"wrapper-img\"><img class=\"card-set-img\" src=\"${book_image}\" alt=\"\"></div>\n\t  <p class=\"card-set-title\">${title}</p>\n\t  <p class=\"card-set-author\">${author}</p></li></button>`;\n    })\n    .join('');\n\n  return (cardSetEl.innerHTML = markupBook);\n}\n","// import { fetchTopBooks } from `./service-api`;\ndocument.addEventListener('DOMContentLoaded', function () {\n  const categoryContainer = document.querySelector('.books-container');\n\n  // Отримуємо доступ до категорій книг за допомогою API\n  fetch('https://books-backend.p.goit.global/books/category-list')\n    .then(response => response.json())\n    .then(categories => {\n      const categoriesList = document.createElement('ul');\n      categoriesList.classList.add('list');\n      categoriesList.classList.add('categories-list');\n\n      categories.forEach(category => {\n        const categoryElement = document.createElement('li');\n        categoryElement.classList.add('category');\n\n        const categoryTitleElement = document.createElement('h3');\n        categoryTitleElement.textContent = category.list_name;\n        categoryTitleElement.classList.add('category-item');\n        categoryElement.appendChild(categoryTitleElement);\n\n        // Отримуємо популярні книги для кожної категорії\n        fetch(\n          `https://books-backend.p.goit.global/books/category?category=${category.list_name}`\n        )\n          .then(response => response.json())\n          .then(data => {\n            const books = data;\n\n            if (books.length > 0) {\n              const bookListElement = document.createElement('ul');\n              bookListElement.classList.add('book-list');\n\n              books.slice(0, 5).forEach(book => {\n                const bookItemElement = createBookItemElement(book);\n                bookListElement.appendChild(bookItemElement);\n              });\n\n              categoryElement.appendChild(bookListElement);\n              const bookBestItemElements =\n                document.querySelectorAll('.book-item');\n              bookBestItemElements.forEach(bookBestItem => {\n                bookBestItem.addEventListener('click', () => {\n                  //   const bookId = bookBestItem.id;\n                  //   openModal(bookId);\n                });\n              });\n\n              if (books.length > 5) {\n                const seeMoreButtonElement = document.createElement('button');\n                seeMoreButtonElement.textContent = 'See More';\n                seeMoreButtonElement.classList.add('see-more-button');\n                categoryElement.appendChild(seeMoreButtonElement);\n\n                seeMoreButtonElement.addEventListener('click', () => {\n                  const bookListElement =\n                    categoryElement.querySelector('.book-list');\n\n                  books.slice(5).forEach(book => {\n                    const bookItemElement = createBookItemElement(book);\n                    bookListElement.appendChild(bookItemElement);\n                  });\n\n                  seeMoreButtonElement.remove(); // Видалити кнопку \"See More\" після додавання нових книг\n                });\n              }\n            } else {\n              const noBooksMessageElement = document.createElement('p');\n              noBooksMessageElement.textContent =\n                'Немає популярних книг для цієї категорії';\n              categoryElement.appendChild(noBooksMessageElement);\n            }\n          })\n          .catch(error => {\n            console.log(\n              `Сталася помилка при отриманні даних для категорії \"${category.list_name}\" з API:`,\n              error\n            );\n          });\n\n        categoriesList.appendChild(categoryElement);\n      });\n      categoryContainer.appendChild(categoriesList);\n    })\n    .catch(error => {\n      console.log('Сталася помилка при отриманні даних з API:', error);\n    });\n});\n\nfunction createBookItemElement(book) {\n  const bookItemElement = document.createElement('li');\n  bookItemElement.classList.add('book-item');\n  bookItemElement.classList.add('link');\n  bookItemElement.dataset.id = `${book._id}`;\n\n  const bookImageElement = document.createElement('img');\n  bookImageElement.src = book.book_image;\n  bookImageElement.alt = book.title;\n  bookImageElement.classList.add('book-image');\n  bookItemElement.appendChild(bookImageElement);\n\n  const bookTitleElement = document.createElement('h4');\n  bookTitleElement.textContent = book.title;\n  bookTitleElement.classList.add('book-title');\n  bookTitleElement.classList.add('ellipsis');\n  bookItemElement.appendChild(bookTitleElement);\n\n  const bookAuthorElement = document.createElement('p');\n  bookAuthorElement.textContent = book.author;\n  bookAuthorElement.classList.add('book-author');\n  bookAuthorElement.classList.add('ellipsis');\n  bookItemElement.appendChild(bookAuthorElement);\n\n  return bookItemElement;\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$b2e2324448c7ef9e$exports","getBundleURL","resolve","$a4825eca3462d444$exports","$04bc160e18781dbf$exports","$dae67d51b9dcdf97$var$currentBookData","$dae67d51b9dcdf97$var$closeBtn","document","querySelector","$dae67d51b9dcdf97$var$modal","$dae67d51b9dcdf97$var$backdrop","$dae67d51b9dcdf97$var$modalContent","addEventListener","event","bookElement","target","closest","bookId","getAttribute","console","log","$dae67d51b9dcdf97$var$_loadBookDetails","apply","this","arguments","$dae67d51b9dcdf97$var$loadBookDetails","evt","stopPropagation","data","$dae67d51b9dcdf97$var$enableBodyScroll","body","style","overflow","$parcel$interopDefault","$2TvXO","mark","_callee","bookData","shoppingList","isBookInShoppingList","modalHTML","btnAddEl","modalNote","$jos2x","fetchBookById","_ctx","sent","localStorage","getItem","some","item","_id","$dae67d51b9dcdf97$var$markupModal","innerHTML","classList","remove","$dae67d51b9dcdf97$var$openModal","$dae67d51b9dcdf97$var$closeModal","$dae67d51b9dcdf97$var$onEscapeKey","$dae67d51b9dcdf97$var$onClickBtnAdd","textContent","error","t0","bookDataToStore","arrFromLocalStorage","filteredArr","filter","setItem","stringify","push","$dae67d51b9dcdf97$var$onBackdropClick","key","add","removeEventListener","book_image","list_name","author","description","buy_links","concat","url","$caacdd4bd33ef540$var$sideBarListEl","$caacdd4bd33ef540$var$cardSetEl","$caacdd4bd33ef540$var$bestSellersTitleEl","$caacdd4bd33ef540$var$_startRender","fetchCategoryList","insertAdjacentHTML","$caacdd4bd33ef540$var$renderMarkupList","arrays","markup","map","param","join","$caacdd4bd33ef540$var$_renderMarkupBook","category","markupBook","fetchParticularCategory","title","$28d0b1bdee355282$var$createBookItemElement","book","bookItemElement","createElement","dataset","id","bookImageElement","src","alt","appendChild","bookTitleElement","bookAuthorElement","$caacdd4bd33ef540$var$startRender","e","currentCategory","categoriesListEl","$caacdd4bd33ef540$var$renderMarkupBook","categoryContainer","fetch","then","response","json","categories","categoriesList","forEach","categoryElement","categoryTitleElement","books","length","bookListElement1","slice","querySelectorAll","bookBestItem","seeMoreButtonElement","bookListElement","noBooksMessageElement","catch","setActivePage"],"version":3,"file":"index.668dcda9.js.map"}