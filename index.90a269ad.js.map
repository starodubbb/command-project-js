{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-9962436a3116c6f2.js","src/js/index.js","src/js/pop-up.js","node_modules/@parcel/runtime-js/lib/runtime-7a19c65e16a8dd4f.js","node_modules/@parcel/runtime-js/lib/runtime-2410860bd7d5750f.js","node_modules/@parcel/runtime-js/lib/runtime-17a65fd8dfef92bf.js","src/js/sidebar.js","src/js/best-sellers.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.90a269ad.js\\\",\\\"gIJxI\\\":\\\"pop-up-shop-1.06fa7713.png\\\",\\\"hZaf5\\\":\\\"pop-up-shop-2.57ecc8dc.png\\\",\\\"3u4at\\\":\\\"pop-up-shop-3.e5effbae.png\\\",\\\"W511b\\\":\\\"index.e3560c38.js\\\"}\"));","import './header.js';\nimport './pop-up.js';\nimport './scroll-up.js';\nimport './sidebar.js';\nimport './support.js';\nimport './best-sellers.js';\nimport './mobile-menu.js';\nimport './service-api.js';\nimport { setActivePage } from './various-functions.js';\n\nconst PAGE = 'home';\n\nsetActivePage(PAGE);\n","import { fetchBookById } from './service-api';\n\nimport shop1 from '../img/pop-up/pop-up-shop-1.png';\nimport shop2 from '../img/pop-up/pop-up-shop-2.png';\nimport shop3 from '../img/pop-up/pop-up-shop-3.png';\n\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst modal = document.querySelector('.modal-window');\nconst backdrop = document.querySelector('.backdrop');\nlet modalContent = document.querySelector('.modal-content');\nlet currentBookData;\n\nconst bestSellerBooks = document.querySelector('.books-container');\n\nbestSellerBooks.addEventListener('click', onBookClick);\n\nmodal.addEventListener('click', evt => {\n  evt.stopPropagation();\n});\n\nlet shoppingListData = [];\nloadData();\n\nfunction disableBodyScroll() {\n  document.body.style.overflow = 'hidden';\n}\n\nfunction enableBodyScroll() {\n  document.body.style.overflow = 'visible';\n}\n\nfunction onBookClick(event) {\n  const bookElement = event.target.closest('.card-set-item');\n  if (!bookElement) return;\n\n  const bookId = bookElement.getAttribute('data-id');\n  if (bookId) {\n    loadBookDetails(bookId);\n  }\n}\n\nasync function loadBookDetails(bookId) {\n  try {\n    const bookData = await fetchBookById(bookId);\n    currentBookData = bookData;\n\n    const shoppingList =\n      JSON.parse(localStorage.getItem('shopping-list')) || [];\n\n    const isBookInShoppingList = shoppingList.some(\n      item => item._id === bookData._id\n    );\n\n    const modalHTML = markupModal(bookData);\n\n    modalContent.innerHTML = modalHTML;\n    modal.classList.remove('is-hidden');\n    openModal();\n\n    closeBtn.addEventListener('click', closeModal);\n    backdrop.addEventListener('click', closeModal);\n    document.addEventListener('keydown', onEscapeKey);\n\n    const btnAddEl = document.querySelector('.modal-btn-add');\n    btnAddEl.addEventListener('click', onClickBtnAdd);\n\n    const modalNote = document.querySelector('.modal-note');\n\n    if (isBookInShoppingList) {\n      btnAddEl.textContent = 'REMOVE FROM THE SHOPPING LIST';\n      modalNote.textContent =\n        'Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n    } else {\n      btnAddEl.textContent = 'ADD TO SHOPPING LIST';\n      modalNote.textContent = ''; // Пустий текст, якщо книга не додана до списку покупок\n    }\n  } catch (error) {\n    currentBookData = {};\n  }\n}\n\nfunction loadData() {\n  const data = localStorage.getItem('shopping-list');\n\n  if (data) {\n    shoppingListData = JSON.parse(data);\n  }\n}\n\nfunction saveData(data) {\n  localStorage.setItem('shopping-list', JSON.stringify(data));\n}\n\nfunction onClickBtnAdd() {\n  if (currentBookData) {\n    const bookDataToStore = currentBookData;\n    const arrFromLocalStorage =\n      JSON.parse(localStorage.getItem('shopping-list')) || [];\n\n    const isBookInLocalStorage = arrFromLocalStorage.some(\n      item => item._id === bookDataToStore._id\n    );\n\n    if (!isBookInLocalStorage) {\n      arrFromLocalStorage.push(bookDataToStore);\n      localStorage.setItem(\n        'shopping-list',\n        JSON.stringify(arrFromLocalStorage)\n      );\n\n      document.querySelector('.modal-btn-add').textContent =\n        'REMOVE FROM THE SHOPPING LIST';\n\n      const modalNote = document.querySelector('.modal-note');\n      modalNote.textContent =\n        'Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n    } else {\n      const filteredArr = arrFromLocalStorage.filter(\n        item => item._id !== bookDataToStore._id\n      );\n      localStorage.setItem('shopping-list', JSON.stringify(filteredArr));\n\n      document.querySelector('.modal-btn-add').textContent =\n        'ADD TO SHOPPING LIST';\n\n      const modalNote = document.querySelector('.modal-note');\n      modalNote.textContent = ''; // Пустий текст, якщо книга видалена зі списку покупок\n    }\n  } else {\n    const errorElement = document.querySelector('.error-message');\n    errorElement.textContent = 'Помилка: дані про книгу відсутні.';\n  }\n}\n\nlet isBookAddedToShoppingList = false;\n\nfunction openModal() {\n  backdrop.classList.remove('is-hidden');\n  modal.classList.remove('is-hidden');\n  disableBodyScroll();\n\n  if (isBookAddedToShoppingList) {\n    document.querySelector('.modal-btn-add').textContent =\n      'REMOVE FROM THE SHOPPING LIST';\n  } else {\n    document.querySelector('.modal-btn-add').textContent =\n      'ADD TO SHOPPING LIST';\n  }\n}\n\ncloseBtn.addEventListener('click', onBtnCloseClick);\nbackdrop.addEventListener('click', onBackdropClick);\ndocument.addEventListener('keydown', onEscapeKey);\n\nfunction onBtnCloseClick() {\n  closeModal();\n  enableBodyScroll();\n}\n\nfunction onBackdropClick(evt) {\n  if (evt.target === backdrop && evt.target !== modal) {\n    closeModal();\n  }\n}\n\nfunction onEscapeKey(evt) {\n  if (evt.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n  backdrop.classList.add('is-hidden');\n  enableBodyScroll();\n  document.removeEventListener('keydown', onEscapeKey);\n  backdrop.removeEventListener('click', onBackdropClick);\n}\n\nfunction markupModal(bookData) {\n  const { book_image, list_name, author, description, buy_links } = bookData;\n  const descriptionText = description || 'Description will be added soon ..';\n  return `<div class=\"modal-content\">\n      <img class=\"modal-book-img\"\n              src=\"${book_image}\"\n              alt=\"Book cover\"\n            />\n            <div class=\"modal-book-descr\">\n              <h2 class=\"modal-book-title\">${list_name}</h2>\n              <h3 class=\"modal-book-author\">${author}</h3>\n\n          <p class=\"modal-book-review\">${descriptionText}</p>\n        <ul class=\"modal-book-list list\">\n          <li class=\"modal-book-el\">\n            <a\n              href=\"${buy_links[0].url}\"\n              class=\"modal-book-link\"\n              target=\"_blank\"\n              rel=\"noopener no-referrer\"\n              >\n              <img\n              src=\"${shop1}\"\n              alt=\"Buy on Amazon\"\n              width=\"62\"\n              height=\"19\"\n              class=\"modal-book-seller amazon\"\n            /></a>\n          </li>\n          <li class=\"modal-book-el\">\n            <a\n              href=\"${buy_links[1].url}\"\n              class=\"modal-book-link\"\n              target=\"_blank\"\n              rel=\"noopener no-referrer\"\n              ><img\n              src=\"${shop2}\"\n              alt=\"Buy on Apple\"\n              width=\"33\"\n              height=\"32\"\n              class=\"modal-book-seller\"\n            /></a>\n          </li>\n          <li class=\"modal-book-el\">\n            <a\n              href=\"${buy_links[4].url}\"\n              class=\"modal-book-link\"\n              target=\"_blank\"\n              rel=\"noopener no-referrer\"\n            >\n              <img\n\n              src=\"${shop3}\"\n              alt=\"Book shop\"\n              width=\"38\"\n              height=\"36\"\n              class=\"modal-book-seller\"\n            /></a>\n          </li>\n        </ul>\n      </div>`;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gIJxI\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hZaf5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3u4at\")).toString();","import { fetchCategoryList, fetchParticularCategory } from './service-api';\nimport { renderBestSellers } from './best-sellers';\n\nconst sideBarListEl = document.querySelector('.side-bar-list');\nconst booksContainerEl = document.querySelector('.books-container');\nconst bestSellersTitleEl = document.querySelector('.best-sellers > h2');\n\nlet currentCategory = 'All categories';\n\nstartRender();\nsideBarListEl.addEventListener('click', onRenderMarkup);\n\nasync function startRender() {\n  try {\n    const data = await fetchCategoryList();\n\n    const markupTitle = `<li><button class=\"side-bar-btn current-category\" type=\"button\" data-all_categories>All categories</button></li>`;\n    sideBarListEl.insertAdjacentHTML('afterbegin', markupTitle);\n\n    renderMarkupList(data);\n  } catch (err) {\n    alert('Something went wrong! Try reload the page!');\n  }\n}\n\nfunction renderMarkupList(arrays) {\n  const markup = arrays\n    .map(({ list_name }) => {\n      return `<li><button type=\"button\" class=\"side-bar-btn\">${list_name}</button></li>`;\n    })\n    .join('');\n  return sideBarListEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onRenderMarkup(e) {\n  if (e.currentTarget === e.target) {\n    return;\n  }\n  if (e.target.textContent === currentCategory) {\n    return;\n  }\n\n  currentCategory = e.target.textContent;\n  const prevCurrentEl = document.querySelector('.current-category');\n\n  if (prevCurrentEl) {\n    prevCurrentEl.classList.remove('current-category');\n  }\n  e.target.classList.add('current-category');\n\n  if (e.target.dataset.all_categories === '') {\n    renderBestSellers();\n    return;\n  }\n\n  const titleEl = document.querySelector('.card-set-title');\n  const cardSetEl = document.createElement('ul');\n  cardSetEl.classList.add('card-set');\n  cardSetEl.classList.add('list');\n\n  currentCategory = e.target.textContent;\n\n  bestSellersTitleEl.innerHTML = '';\n  booksContainerEl.innerHTML = '';\n\n  const markupTitle = createMarkupTitle(currentCategory);\n  titleEl.innerHTML = markupTitle;\n\n  renderMarkupBook(currentCategory, cardSetEl);\n  booksContainerEl.append(cardSetEl);\n}\n\nasync function renderMarkupBook(category, cardSetEl) {\n  try {\n    const data = await fetchParticularCategory(category);\n\n    const markupBook = data\n      .map(({ book_image, title, author, _id }) => {\n        return `<li class=\"card-set-item\" data-id=\"${_id}\">\n\t <button class=\"card-set-btn\" type=\"button\"><div class=\"wrapper-img\"><img class=\"card-set-img\" src=\"${book_image}\" alt=\"\"></div>\n\t  <h4 class=\"card-set-book-title ellipsis\">${title}</h4>\n\t  <p class=\"card-set-author ellipsis\">${author}</p></button></li>`;\n      })\n      .join('');\n\n    cardSetEl.innerHTML = markupBook;\n  } catch (err) {\n    renderNoBooksError(cardSetEl);\n  }\n}\n\nfunction createMarkupTitle(category) {\n  const arrayWords = category.split(' ');\n  const numberWord = arrayWords.length - 1;\n  const notCompleteArr = arrayWords.slice(0, numberWord).join(' ');\n\n  return `${notCompleteArr} <span class=\"title-accent\">${arrayWords[numberWord]}</span>`;\n}\n\nfunction renderNoBooksError(container) {\n  const noBooksMessageElement = document.createElement('p');\n  noBooksMessageElement.classList.add('error-notification');\n  noBooksMessageElement.textContent = 'No books found';\n  container.appendChild(noBooksMessageElement);\n}\n","import { fetchCategoryList, fetchParticularCategory } from './service-api';\n\nconst booksContainerEl = document.querySelector('.books-container');\nconst bestSellersTitleEl = document.querySelector('.best-sellers > h2');\n\nrenderBestSellers();\n\nexport async function renderBestSellers() {\n  try {\n    const categoriesResp = await fetchCategoryList();\n\n    bestSellersTitleEl.innerHTML = createMarkupTitle();\n    booksContainerEl.innerHTML = '';\n\n    //Create categories list element\n    const categoriesListEl = document.createElement('ul');\n    categoriesListEl.classList.add('categories-list');\n    categoriesListEl.classList.add('list');\n\n    //Render all categories and all top books\n    categoriesResp.forEach(categoryResp => {\n      renderFullCategory(categoryResp.list_name, categoriesListEl);\n    });\n    booksContainerEl.append(categoriesListEl);\n  } catch (err) {\n    alert('Something went wrong! Try reload the page!');\n  }\n}\n\nasync function renderFullCategory(categoryName, categoriesListEl) {\n  //Create category element\n  const categoryElement = document.createElement('li');\n  categoryElement.classList.add('category');\n  categoryElement.classList.add('show-top');\n\n  renderCategoryTitleElement(categoryName, categoryElement);\n\n  // Get popular books for each category\n  try {\n    const booksByCategory = await fetchParticularCategory(categoryName);\n    if (booksByCategory.length > 0) {\n      const cardSetEl = document.createElement('ul');\n      cardSetEl.classList.add('card-set');\n      cardSetEl.classList.add('list');\n\n      //Render top books\n      const topBooksByCategory = booksByCategory.slice(0, 5);\n      topBooksByCategory.forEach(book => {\n        renderBookItemElement(book, cardSetEl);\n      });\n      categoryElement.appendChild(cardSetEl);\n\n      if (booksByCategory.length > 5) {\n        const seeMoreButtonElement = renderSeeMoreBtn(categoryElement);\n        const otherBooks = booksByCategory.slice(5);\n        seeMoreButtonElement.addEventListener(\n          'click',\n          onShowMoreBooks.bind(null, otherBooks, cardSetEl)\n        );\n      }\n    } else {\n      throw new Error();\n    }\n  } catch (err) {\n    renderNoBooksError(categoryElement);\n  }\n\n  categoriesListEl.appendChild(categoryElement);\n}\n\nfunction onShowMoreBooks(books, bookSetEl, event) {\n  const curCategoryEl = event.target.closest('.category');\n  curCategoryEl.classList.remove('show-top');\n\n  books.forEach(book => {\n    renderBookItemElement(book, bookSetEl);\n  });\n  event.currentTarget.remove();\n}\n\nfunction renderSeeMoreBtn(categoryContainer) {\n  const seeMoreButtonElement = document.createElement('button');\n  seeMoreButtonElement.classList.add('btn');\n  seeMoreButtonElement.classList.add('see-more-button');\n  seeMoreButtonElement.textContent = 'See More';\n  categoryContainer.appendChild(seeMoreButtonElement);\n  return seeMoreButtonElement;\n}\n\nfunction renderCategoryTitleElement(categoryName, categoryContainer) {\n  const categoryTitleElement = document.createElement('h3');\n  categoryTitleElement.textContent = categoryName;\n  categoryTitleElement.classList.add('category-title');\n  categoryContainer.appendChild(categoryTitleElement);\n}\n\nfunction renderBookItemElement({ book_image, title, author, _id }, bookSetEl) {\n  const markupBook = `\n  <li class=\"card-set-item\" data-id=\"${_id}\">\n\t  <button class=\"card-set-btn\" type=\"button\">\n      <div class=\"wrapper-img\">\n        <img class=\"card-set-img\" src=\"${book_image}\" alt=\"\">\n      </div>\n      <h4 class=\"card-set-book-title ellipsis\">${title}</h4>\n      <p class=\"card-set-author ellipsis\">${author}</p>\n    </button>\n  </li>`;\n  bookSetEl.insertAdjacentHTML('beforeend', markupBook);\n}\n\nfunction createMarkupTitle() {\n  return 'Best Sellers <span class=\"title-accent\">Books</span>';\n}\n\nfunction renderNoBooksError(container) {\n  const noBooksMessageElement = document.createElement('p');\n  noBooksMessageElement.classList.add('error-notification');\n  noBooksMessageElement.textContent = 'No books found';\n  container.appendChild(noBooksMessageElement);\n}\n"],"names":["parcelRequire","register","JSON","parse","$d1cSn","$d603b37632c57f9e$exports","URL","resolve","import","meta","url","toString","$e52e16ca51890f14$exports","$d83c66fdfb047192$exports","$0244a5a1b3e8d0b6$var$closeBtn","document","querySelector","$0244a5a1b3e8d0b6$var$modal","$0244a5a1b3e8d0b6$var$backdrop","$0244a5a1b3e8d0b6$var$currentBookData","$0244a5a1b3e8d0b6$var$modalContent","addEventListener","event","bookElement","target","closest","bookId","getAttribute","async","bookData","fetchBookById","isBookInShoppingList","localStorage","getItem","some","item","_id","modalHTML","book_image","list_name","author","description","buy_links","$parcel$interopDefault","$0244a5a1b3e8d0b6$var$markupModal","innerHTML","classList","remove","body","style","overflow","textContent","$0244a5a1b3e8d0b6$var$closeModal","$0244a5a1b3e8d0b6$var$onEscapeKey","btnAddEl","$0244a5a1b3e8d0b6$var$onClickBtnAdd","modalNote","error","$0244a5a1b3e8d0b6$var$loadBookDetails","evt","stopPropagation","$0244a5a1b3e8d0b6$var$shoppingListData","$0244a5a1b3e8d0b6$var$enableBodyScroll","bookDataToStore","arrFromLocalStorage","filteredArr","filter","setItem","stringify","push","data","$0244a5a1b3e8d0b6$var$loadData","$0244a5a1b3e8d0b6$var$onBackdropClick","key","add","removeEventListener","$c16de6f7745405e4$var$booksContainerEl","$c16de6f7745405e4$var$bestSellersTitleEl","$c16de6f7745405e4$export$f9c8b3d3459f1865","categoriesResp","fetchCategoryList","categoriesListEl","createElement","forEach","categoryResp","categoryName","categoryElement","categoryContainer","categoryTitleElement","appendChild","$c16de6f7745405e4$var$renderCategoryTitleElement","booksByCategory","fetchParticularCategory","length","Error","cardSetEl","slice","book","$c16de6f7745405e4$var$renderBookItemElement","seeMoreButtonElement","$c16de6f7745405e4$var$renderSeeMoreBtn","otherBooks","$c16de6f7745405e4$var$onShowMoreBooks","bind","err","container","noBooksMessageElement","$c16de6f7745405e4$var$renderNoBooksError","$c16de6f7745405e4$var$renderFullCategory","append","alert","books","bookSetEl","currentTarget","title","markupBook","insertAdjacentHTML","$040d63f203034e73$var$sideBarListEl","$040d63f203034e73$var$booksContainerEl","$040d63f203034e73$var$bestSellersTitleEl","$040d63f203034e73$var$currentCategory","markupTitle","arrays","markup","map","join","$040d63f203034e73$var$renderMarkupList","$040d63f203034e73$var$startRender","e","prevCurrentEl","dataset","all_categories","titleEl","category","arrayWords","split","numberWord","$040d63f203034e73$var$createMarkupTitle","$040d63f203034e73$var$renderNoBooksError","$040d63f203034e73$var$renderMarkupBook","setActivePage"],"version":3,"file":"index.90a269ad.js.map"}