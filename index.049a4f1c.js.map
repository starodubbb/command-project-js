{"mappings":"iMAyFA,SAASA,EAAsBC,GAC7B,IAAMC,EAAkBC,SAASC,cAAc,MAC/CF,EAAgBG,UAAUC,IAAI,aAC9BJ,EAAgBG,UAAUC,IAAI,QAC9BJ,EAAgBK,QAAQC,GAAK,GAAYC,OAATR,EAAKS,KAErC,IAAMC,EAAmBR,SAASC,cAAc,OAChDO,EAAiBC,IAAMX,EAAKY,WAC5BF,EAAiBG,IAAMb,EAAKc,MAC5BJ,EAAiBN,UAAUC,IAAI,cAC/BJ,EAAgBc,YAAYL,GAE5B,IAAMM,EAAmBd,SAASC,cAAc,MAChDa,EAAiBC,YAAcjB,EAAKc,MACpCE,EAAiBZ,UAAUC,IAAI,cAC/BW,EAAiBZ,UAAUC,IAAI,YAC/BJ,EAAgBc,YAAYC,GAE5B,IAAME,EAAoBhB,SAASC,cAAc,KAMjD,OALAe,EAAkBD,YAAcjB,EAAKmB,OACrCD,EAAkBd,UAAUC,IAAI,eAChCa,EAAkBd,UAAUC,IAAI,YAChCJ,EAAgBc,YAAYG,GAErBjB,C,gTCjHTmB,EAAA,S,sBDCAlB,SAASmB,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAoBpB,SAASqB,cAAc,oBAGRC,MAAnC,2DACHC,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJ,IAAMC,EAAiB3B,SAASC,cAAc,MAC9C0B,EAAezB,UAAUC,IAAI,QAC7BwB,EAAezB,UAAUC,IAAI,mBAE7BuB,EAAWE,SAAQ,SAAAC,GACjB,IAAMC,EAAkB9B,SAASC,cAAc,MAC/C6B,EAAgB5B,UAAUC,IAAI,YAE9B,IAAM4B,EAAuB/B,SAASC,cAAc,MACpD8B,EAAqBhB,YAAcc,EAASG,UAC5CD,EAAqB7B,UAAUC,IAAI,iBACnC2B,EAAgBjB,YAAYkB,GAGaT,MACvC,+DAAkFhB,OAAnBuB,EAASG,YAEvET,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAU,GACJ,IAAMC,EAAQD,EAEd,GAAIC,EAAMC,OAAS,EAAG,CACpB,IAAMC,EAAkBpC,SAASC,cAAc,MAkB/C,GAjBAmC,EAAgBlC,UAAUC,IAAI,aAE9B+B,EAAMG,MAAM,EAAG,GAAGT,SAAQ,SAAA9B,GACxB,IAAMC,EAAkBF,EAAsBC,GAC9CsC,EAAgBvB,YAAYd,E,IAG9B+B,EAAgBjB,YAAYuB,GAE1BpC,SAASsC,iBAAiB,cACPV,SAAQ,SAAAW,GAC3BA,EAAapB,iBAAiB,SAAS,W,OAMrCe,EAAMC,OAAS,EAAG,CACpB,IAAMK,EAAuBxC,SAASC,cAAc,UACpDuC,EAAqBzB,YAAc,WACnCyB,EAAqBtC,UAAUC,IAAI,mBACnC2B,EAAgBjB,YAAY2B,GAE5BA,EAAqBrB,iBAAiB,SAAS,WAC7C,IAAMsB,EACJX,EAAgBT,cAAc,cAEhCa,EAAMG,MAAM,GAAGT,SAAQ,SAAA9B,GACrB,IAAMC,EAAkBF,EAAsBC,GAC9C2C,EAAgB5B,YAAYd,E,IAG9ByC,EAAqBE,Q,SAGpB,CACL,IAAMC,EAAwB3C,SAASC,cAAc,KACrD0C,EAAsB5B,YACpB,2CACiCe,EAAnBjB,YAAY8B,E,KAG/BC,OAAM,SAAAC,GACLC,QAAQC,IACN,sDAAoHzC,OAAnBuB,EAASG,UAAU,YACxEa,E,IAIlDlB,EAAed,YAAYiB,E,IAE7BV,EAAkBP,YAAYc,E,IAE/BiB,OAAM,SAAAC,GACLC,QAAQC,IAAI,6CAA8CF,E","sources":["src/js/best-sellers.js","src/js/index.js"],"sourcesContent":["// import { fetchTopBooks } from `./service-api`;\ndocument.addEventListener('DOMContentLoaded', function () {\n  const categoryContainer = document.querySelector('.books-container');\n\n  // Отримуємо доступ до категорій книг за допомогою API\n  fetch('https://books-backend.p.goit.global/books/category-list')\n    .then(response => response.json())\n    .then(categories => {\n      const categoriesList = document.createElement('ul');\n      categoriesList.classList.add('list');\n      categoriesList.classList.add('categories-list');\n\n      categories.forEach(category => {\n        const categoryElement = document.createElement('li');\n        categoryElement.classList.add('category');\n\n        const categoryTitleElement = document.createElement('h3');\n        categoryTitleElement.textContent = category.list_name;\n        categoryTitleElement.classList.add('category-item');\n        categoryElement.appendChild(categoryTitleElement);\n\n        // Отримуємо популярні книги для кожної категорії\n        fetch(\n          `https://books-backend.p.goit.global/books/category?category=${category.list_name}`\n        )\n          .then(response => response.json())\n          .then(data => {\n            const books = data;\n\n            if (books.length > 0) {\n              const bookListElement = document.createElement('ul');\n              bookListElement.classList.add('book-list');\n\n              books.slice(0, 5).forEach(book => {\n                const bookItemElement = createBookItemElement(book);\n                bookListElement.appendChild(bookItemElement);\n              });\n\n              categoryElement.appendChild(bookListElement);\n              const bookBestItemElements =\n                document.querySelectorAll('.book-item');\n              bookBestItemElements.forEach(bookBestItem => {\n                bookBestItem.addEventListener('click', () => {\n                  //   const bookId = bookBestItem.id;\n                  //   openModal(bookId);\n                });\n              });\n\n              if (books.length > 5) {\n                const seeMoreButtonElement = document.createElement('button');\n                seeMoreButtonElement.textContent = 'See More';\n                seeMoreButtonElement.classList.add('see-more-button');\n                categoryElement.appendChild(seeMoreButtonElement);\n\n                seeMoreButtonElement.addEventListener('click', () => {\n                  const bookListElement =\n                    categoryElement.querySelector('.book-list');\n\n                  books.slice(5).forEach(book => {\n                    const bookItemElement = createBookItemElement(book);\n                    bookListElement.appendChild(bookItemElement);\n                  });\n\n                  seeMoreButtonElement.remove(); // Видалити кнопку \"See More\" після додавання нових книг\n                });\n              }\n            } else {\n              const noBooksMessageElement = document.createElement('p');\n              noBooksMessageElement.textContent =\n                'Немає популярних книг для цієї категорії';\n              categoryElement.appendChild(noBooksMessageElement);\n            }\n          })\n          .catch(error => {\n            console.log(\n              `Сталася помилка при отриманні даних для категорії \"${category.list_name}\" з API:`,\n              error\n            );\n          });\n\n        categoriesList.appendChild(categoryElement);\n      });\n      categoryContainer.appendChild(categoriesList);\n    })\n    .catch(error => {\n      console.log('Сталася помилка при отриманні даних з API:', error);\n    });\n});\n\nfunction createBookItemElement(book) {\n  const bookItemElement = document.createElement('li');\n  bookItemElement.classList.add('book-item');\n  bookItemElement.classList.add('link');\n  bookItemElement.dataset.id = `${book._id}`;\n\n  const bookImageElement = document.createElement('img');\n  bookImageElement.src = book.book_image;\n  bookImageElement.alt = book.title;\n  bookImageElement.classList.add('book-image');\n  bookItemElement.appendChild(bookImageElement);\n\n  const bookTitleElement = document.createElement('h4');\n  bookTitleElement.textContent = book.title;\n  bookTitleElement.classList.add('book-title');\n  bookTitleElement.classList.add('ellipsis');\n  bookItemElement.appendChild(bookTitleElement);\n\n  const bookAuthorElement = document.createElement('p');\n  bookAuthorElement.textContent = book.author;\n  bookAuthorElement.classList.add('book-author');\n  bookAuthorElement.classList.add('ellipsis');\n  bookItemElement.appendChild(bookAuthorElement);\n\n  return bookItemElement;\n}\n","import './header.js';\nimport './pop-up.js';\nimport './scroll-up.js';\nimport './sidebar.js';\nimport './support.js';\nimport './best-sellers.js';\nimport './mobile-menu.js';\nimport './service-api.js';\n"],"names":["$28d0b1bdee355282$var$createBookItemElement","book","bookItemElement","document","createElement","classList","add","dataset","id","concat","_id","bookImageElement","src","book_image","alt","title","appendChild","bookTitleElement","textContent","bookAuthorElement","author","parcelRequire","addEventListener","categoryContainer","querySelector","fetch","then","response","json","categories","categoriesList","forEach","category","categoryElement","categoryTitleElement","list_name","data","books","length","bookListElement1","slice","querySelectorAll","bookBestItem","seeMoreButtonElement","bookListElement","remove","noBooksMessageElement","catch","error","console","log"],"version":3,"file":"index.049a4f1c.js.map"}